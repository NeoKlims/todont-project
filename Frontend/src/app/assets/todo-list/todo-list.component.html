<div class="todo-container">
    <div class="todo-header">
      <h1>{{ currentList?.name || 'My Tasks' }}</h1>
      <div class="header-actions">
        <button class="sort-button">
          <i class="fas fa-sort"></i>
        </button>
        <button class="more-button">
          <i class="fas fa-ellipsis-v"></i>
        </button>
      </div>
    </div>

    <div class="empty-state" *ngIf="!tasks.length">
      <img src="/placeholder.svg?height=200&width=200" alt="No tasks" class="empty-illustration" />
      <h2>No tasks</h2>
      <p>Add tasks and manage them across Google Workspace</p>
    </div>

    <div class="tasks-list" *ngIf="tasks.length">
      <div class="task-item" *ngFor="let task of tasks" [class.completed]="task.completed">
        <div class="task-checkbox">
          <input 
            type="checkbox" 
            [id]="'task-' + task.id" 
            [checked]="task.completed"
            (change)="toggleComplete(task.id)"
          >
          <label [for]="'task-' + task.id"></label>
        </div>
        <div class="task-content" (click)="editTask(task)">
          <span class="task-title">{{ task.title }}</span>
          <span class="task-details" *ngIf="task.details">{{ task.details }}</span>
        </div>
        <div class="task-actions">
          <button 
            class="task-action-button" 
            [class.starred]="task.starred"
            (click)="toggleStar(task.id)"
          >
            <i class="fas" [class.fa-star]="task.starred" [class.fa-star-o]="!task.starred"></i>
          </button>
          <button class="task-action-button" (click)="deleteTask(task.id)">
            <i class="fas fa-trash"></i>
          </button>
        </div>
      </div>
    </div>

    <div class="add-task" *ngIf="!isAddingTask">
      <button class="add-task-button" (click)="startAddingTask()">
        <i class="fas fa-plus"></i>
        <span>Add a task</span>
      </button>
    </div>

    <div class="add-task-form" *ngIf="isAddingTask">
      <input 
        #newTaskInput
        type="text" 
        class="task-input" 
        placeholder="New task"
        [(ngModel)]="newTaskTitle"
        (keyup.enter)="addTask()"
        (keyup.escape)="cancelAddingTask()"
      >
      <div class="form-actions">
        <button class="action-button" (click)="addTask()" [disabled]="!newTaskTitle.trim()">
          Add task
        </button>
        <button class="action-button cancel" (click)="cancelAddingTask()">
          Cancel
        </button>
      </div>
    </div>
  </div>